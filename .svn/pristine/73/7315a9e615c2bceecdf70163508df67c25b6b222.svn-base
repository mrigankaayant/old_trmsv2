<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core" xmlns:p="http://primefaces.org/ui">

	<p:growl id="growl" showDetail="true" sticky="false" autoUpdate="true" />
	
	<h:form>

		<p:panelGrid style="width:40%;margin-left:29%;margin-top:10%;">

			<f:facet name="header">
				<p:row>
					<p:column colspan="6">Change Password</p:column>
				</p:row>
			</f:facet>

		</p:panelGrid>
		<br></br>
		<p:panelGrid style="width:40%;margin-left:29%;">
			<p:row>
				<p:column>
					<p:outputLabel for="employee-previousPassword" value="Enter Previous Password:" />
				</p:column>
				<p:column>
					<p:password value="#{adminBean.previousPassword}" required="true" id="employee-previousPassword"
						requiredMessage="Enter Previous Password" placeholder="Enter Previous Password">

						<f:ajax execute="employee-previousPassword" render="growl" event="blur"
							listener="#{adminBean.checkPreviousPassword()}" />

					</p:password>
				</p:column>
			</p:row>
			<p:row>
				<p:column>
					<p:outputLabel for="employee-password" value="Enter New Password:" />
				</p:column>
				<p:column>
					<p:password value="#{adminBean.employee.userProfile.password}" required="true" id="employee-password"
						requiredMessage="Enter New Password" placeholder="Enter New Password">

						<f:ajax event="blur" listener="#{adminBean.setPasswordByListener()}" />

					</p:password>
				</p:column>
			</p:row>
			<p:row>
				<p:column>
					<p:outputLabel for="employee-confirmPassword" value="Enter Confirm Password:" />
				</p:column>
				<p:column>
					<p:password validator="#{adminBean.validateSamePassword}" required="true" id="employee-confirmPassword"
						requiredMessage="Enter Confirm Password" placeholder="Enter Confirm Password">

						<f:ajax event="blur" render="growl" />

					</p:password>
				</p:column>
			</p:row>

		</p:panelGrid>
		<br />
		<p:panelGrid style="width:40%;margin-left:29%;">
			<f:facet name="footer">
				<p:row>
					<p:column colspan="6" class="right-align">
						<p:commandButton value="Change" onclick="PF('statusDialog').show()" oncomplete="PF('statusDialog').hide()" actionListener="#{adminBean.savePassword()}" />
					</p:column>
				</p:row>
			</f:facet>
		</p:panelGrid>

	</h:form>
</ui:composition>